const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk-JZWAC4HX-B6pXSc00.css","assets/AppLayout-CnY_GKgQ.css","assets/create-element-if-not-defined-BUrcyj0q.css","assets/Trending-DQzmXbEx.css","assets/EditArticle-0TNE-uT-.css","assets/FormElements-BsM4JrO0.css"])))=>i.map(i=>d[i]);
import{u as S,b as F,r as t,d as M,e as C,j as e,g as N,_ as n,c as k,R as B,a as Y,A as G}from"./chunk-JZWAC4HX-DGixXWWH.js";import{u as H}from"./NotificationContext-Bm_P1CXC.js";const o=({children:m,allowedUserLevel:O=["super_admin","admin_country","admin_city"]})=>{const{userDetails:i,setUserDetails:p}=S(),{setAdminTaxonomies:c,taxonomies:u}=F(),[j,v]=t.useState(!1),{setNotification:z}=H(),E=M(),V=async()=>{const r=await N();return r&&r.status_code==200&&r.data.length?(p(r.data[0]),!0):(p(void 0),!1)},D=()=>{var y,f,h,A,g,L,R,T,I;if(!u)return;const r=(i==null?void 0:i.id_country)??1,x=(i==null?void 0:i.id_city)??1,U=(i==null?void 0:i.id_region)??1,_=u;if((i==null?void 0:i.user_level)=="super_admin"){c(u);return}else if((i==null?void 0:i.user_level)=="admin_country"){const l=(y=_.countries)==null?void 0:y.filter(s=>s.id==r),a=(f=_.cities)==null?void 0:f.filter(s=>s.id_parent==r),d=(h=_.regions)==null?void 0:h.filter(s=>a==null?void 0:a.find(b=>b.id==s.id_parent));c({countries:l,cities:a,regions:d})}else if((i==null?void 0:i.user_level)=="admin_city"){const l=(A=_.countries)==null?void 0:A.filter(s=>s.id==r),a=(g=_.cities)==null?void 0:g.filter(s=>s.id==x),d=(L=_.regions)==null?void 0:L.filter(s=>s.id_parent==x);c({countries:l,cities:a,regions:d})}else if((i==null?void 0:i.user_level)=="admin_region"){const l=(R=_.countries)==null?void 0:R.filter(s=>s.id==r),a=(T=_.cities)==null?void 0:T.filter(s=>s.id==x),d=(I=_.regions)==null?void 0:I.filter(s=>s.id==U);c({countries:l,cities:a,regions:d})}};t.useEffect(()=>{j&&(z({message:"You are not allowed to access the page",type:"fail"}),E("/admin"),v(!1))},[j]);const w=C();if(t.useEffect(()=>{(async()=>await V()||E("/signin"))()},[w]),t.useEffect(()=>{i&&D()},[i]),i===null)return e.jsx(e.Fragment,{});if(i===void 0)return E("/signin"),e.jsx(e.Fragment,{});if(i&&typeof i.user_level=="string")return O.includes(i.user_level)?e.jsx(e.Fragment,{children:m}):(v(!0),e.jsx(e.Fragment,{}))},J=t.lazy(()=>n(()=>import("./ArticleAdmin-B4puS5Rd.js"),__vite__mapDeps([0]))),q=t.lazy(()=>n(()=>import("./TemplateLayout-18ukW8So.js"),__vite__mapDeps([0]))),K=t.lazy(()=>n(()=>import("./AppLayout-DkZeY-ND.js"),__vite__mapDeps([0,1]))),Q=t.lazy(()=>n(()=>import("./Home-DHLfuXMm.js"),__vite__mapDeps([0]))),W=t.lazy(()=>n(()=>import("./SettingPage-Bws17O07.js"),__vite__mapDeps([0]))),X=t.lazy(()=>n(()=>import("./SocmedSettingPage-B6UKjWQF.js"),__vite__mapDeps([0]))),Z=t.lazy(()=>n(()=>import("./ConfigSMTP-DP9bbF6Y.js"),__vite__mapDeps([0]))),$=t.lazy(()=>n(()=>import("./MstCategories-_3vKO4TR.js"),__vite__mapDeps([0]))),ee=t.lazy(()=>n(()=>import("./MstTags-DeYOFXho.js"),__vite__mapDeps([0]))),te=t.lazy(()=>n(()=>import("./MstLocations-CJTuC0_Q.js"),__vite__mapDeps([0]))),ie=t.lazy(()=>n(()=>import("./MstTemplates-Dv6yKQNd.js"),__vite__mapDeps([0]))),ne=t.lazy(()=>n(()=>import("./GeneralTemplate-DFbyOiYG.js"),__vite__mapDeps([0]))),se=t.lazy(()=>n(()=>import("./AboutTemplate-CKsXRtfO.js"),__vite__mapDeps([0]))),oe=t.lazy(()=>n(()=>import("./LocationTemplateExp-DWJy4rHC.js"),__vite__mapDeps([0,2,3]))),re=t.lazy(()=>n(()=>import("./MstArticle-Ccci2yZp.js"),__vite__mapDeps([0]))),_e=t.lazy(()=>n(()=>import("./FormArticle-BR_mwPK1.js"),__vite__mapDeps([0]))),P=t.lazy(()=>n(()=>import("./EditArticle-BtYb-vYu.js"),__vite__mapDeps([0,4]))),ae=t.lazy(()=>n(()=>import("./Users-DUTtpMJJ.js"),__vite__mapDeps([0]))),le=t.lazy(()=>n(()=>import("./Registration-C7Kg2b0P.js"),__vite__mapDeps([0]))),de=t.lazy(()=>n(()=>import("./UserProfiles-DXxOaC5l.js"),__vite__mapDeps([0]))),ce=t.lazy(()=>n(()=>import("./MediaForm-BfefYGqg.js"),__vite__mapDeps([0]))),me=t.lazy(()=>n(()=>import("./MediaLibrary-D2H0qhqh.js"),__vite__mapDeps([0]))),pe=t.lazy(()=>n(()=>import("./JobApplicant-BMrjUk9F.js"),__vite__mapDeps([0]))),ue=t.lazy(()=>n(()=>import("./Subscribers-RKtCv1Np.js"),__vite__mapDeps([0]))),Ee=t.lazy(()=>n(()=>import("./Blank-B7sIzqQB.js"),__vite__mapDeps([0]))),xe=t.lazy(()=>n(()=>import("./FormElements-czhcEYol.js"),__vite__mapDeps([0,5]))),je=t.lazy(()=>n(()=>import("./SignIn-DxEhJpG6.js"),__vite__mapDeps([0]))),ve=[{path:"/signin",element:e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(je,{})})},{path:"/admin",element:e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(K,{})}),children:[{index:!0,element:e.jsx(o,{children:e.jsx(Q,{})})},{path:"setting",element:e.jsx(o,{allowedUserLevel:["super_admin"],children:e.jsx(W,{})})},{path:"mst_locations",element:e.jsx(o,{children:e.jsx(te,{})})},{path:"mst_categories",element:e.jsx(o,{allowedUserLevel:["super_admin"],children:e.jsx($,{})})},{path:"mst_tags",element:e.jsx(o,{allowedUserLevel:["super_admin"],children:e.jsx(ee,{})})},{path:"mst_templates",element:e.jsx(o,{children:e.jsx(q,{})}),children:[{index:!0,element:e.jsx(ie,{})},{path:"edit",element:e.jsx(oe,{})},{path:"about",element:e.jsx(o,{allowedUserLevel:["super_admin"],children:e.jsx(se,{})})},{path:"general",element:e.jsx(o,{allowedUserLevel:["super_admin"],children:e.jsx(ne,{})})}]},{path:"mst_article",element:e.jsx(o,{children:e.jsx(J,{})}),children:[{index:!0,element:e.jsx(re,{})},{path:"add",element:e.jsx(P,{action:"add"})},{path:"edit/:id",element:e.jsx(P,{action:"edit"})},{path:":country",element:e.jsx(_e,{})}]},{path:"users",element:e.jsx(o,{allowedUserLevel:["super_admin"],children:e.jsx(ae,{})})},{path:"registration",element:e.jsx(o,{allowedUserLevel:["super_admin"],children:e.jsx(le,{})})},{path:"profile",element:e.jsx(de,{})},{path:"add_media",element:e.jsx(ce,{})},{path:"media_library",element:e.jsx(me,{})},{path:"blank",element:e.jsx(Ee,{})},{path:"form-elements",element:e.jsx(xe,{})},{path:"subscriber_list",element:e.jsx(o,{allowedUserLevel:["super_admin"],children:e.jsx(ue,{})})},{path:"socmed",element:e.jsx(X,{})},{path:"configSMTP",element:e.jsx(Z,{})},{path:"job_applicant",element:e.jsx(pe,{})}]}],ye=()=>{const m=k(ve);return e.jsx(B,{router:m})},fe=window.__INITIAL_DATA__;Y.hydrateRoot(document.getElementById("root"),e.jsx(G,{initialData:fe,children:e.jsx(ye,{})}));delete window.__INITIAL_DATA__;export{o as P};
