const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk-JZWAC4HX-Bd-F_eGl.css","assets/swiper-bundle-BUrcyj0q.css","assets/Trending-DQzmXbEx.css","assets/index-D3b48Htt.css","assets/Events-7SWrf_k_.css","assets/SingleJob-DpsRipQV.css"])))=>i.map(i=>d[i]);
import{h as x,r as t,e as L,b as R,u as P,j as e,_ as o}from"./chunk-JZWAC4HX-CJhxn-1v.js";import{g as v}from"./article.service-z7ufy3mB.js";const A=t.lazy(()=>o(()=>import("./Trending-CKrYtnPi.js").then(_=>_.e),__vite__mapDeps([0,1,2]))),N=t.lazy(()=>o(()=>import("./Single-Dd89vu_V.js"),__vite__mapDeps([0,1]))),h=t.lazy(()=>o(()=>import("./Deals-xxmovRYE.js"),__vite__mapDeps([0,3]))),y=t.lazy(()=>o(()=>import("./JobListing-C1SqbFVr.js"),__vite__mapDeps([0]))),T=t.lazy(()=>o(()=>import("./Directory-FLMfyLHv.js"),__vite__mapDeps([0]))),O=t.lazy(()=>o(()=>import("./Events-C07jYrGO.js"),__vite__mapDeps([0,3,4]))),G=t.lazy(()=>o(()=>import("./SingleJob-BiwhYuNT.js"),__vite__mapDeps([0,5]))),D=t.lazy(()=>o(()=>import("./SingleEvent-BpDkYUwS.js"),__vite__mapDeps([0,1]))),b=t.lazy(()=>o(()=>import("./NotFound-PjYsmumY.js"),__vite__mapDeps([0]))),V=t.lazy(()=>o(()=>import("./Housing-DVAYj2V3.js"),__vite__mapDeps([0]))),F=t.lazy(()=>o(()=>import("./Search-CxFq50Oh.js"),__vite__mapDeps([0]))),k=t.lazy(()=>o(()=>import("./Overseas-4uG9NpaE.js"),__vite__mapDeps([0]))),j=(_,u)=>{const E={country:void 0,city:void 0,region:void 0,category:void 0};return _.forEach(n=>{var I,m,g,a;const i=(I=u.countries)==null?void 0:I.find(l=>l.slug==n),c=(m=u.cities)==null?void 0:m.find(l=>l.slug==n),s=(g=u.regions)==null?void 0:g.find(l=>l.slug==n),r=(a=u.categories)==null?void 0:a.find(l=>l.slug_title==n);i?E.country=i:c?E.city=c:s?E.region=s:r&&(E.category=r)}),E},C=async(_,u,E)=>{var I,m,g,a,l;const n=_?_.split("/").filter(Boolean):[];if(n.length===0)return{type:"HOME",listingParams:{country:void 0,city:void 0,region:void 0,category:void 0}};const i=n[n.length-1],c=await v(i);if(c){const S=(I=u.categories)==null?void 0:I.find(f=>f.id==c.category_id),d=j(n.slice(0,-1),u);return(S==null?void 0:S.slug_title)==="job-listing"?{type:"ARTICLE_JOB",listingParams:{...d,article:c},articleSlug:i}:(S==null?void 0:S.slug_title)==="events"?{type:"ARTICLE_EVENT",listingParams:{...d,article:c},articleSlug:i}:{type:"ARTICLE_PAGE",listingParams:{...d,article:c},articleSlug:i}}const s=j(n,u),r={...s,article:void 0};return i==="trending"?{type:"LISTING_TRENDINGS",listingParams:r}:i==="overseas"?{type:"LISTING_OVERSEAS",listingParams:r}:i==="search"?{type:"LISTING_SEARCH",listingParams:r}:((m=s.category)==null?void 0:m.slug_title)==="events"?{type:"LISTING_EVENTS",listingParams:r}:((g=s.category)==null?void 0:g.slug_title)==="job-listing"?{type:"LISTING_JOBS",listingParams:r}:((a=s.category)==null?void 0:a.slug_title)==="deals"?{type:"LISTING_DEALS",listingParams:r}:((l=s.category)==null?void 0:l.slug_title)==="housing"?{type:"LISTING_HOUSING",listingParams:r}:s.category?{type:"LISTING_CATEGORIES",listingParams:r}:!s.country&&!s.city&&!s.region&&!s.category?{type:"NOT_FOUND",listingParams:r}:{type:"LISTING_HOME",listingParams:r}},B=()=>{var f;const{routeType:_,setRouteType:u,setActualRoute:E,actualRoute:n,setClientChange:i,clientChange:c}=x(),[s,r]=t.useState({type:_,listingParams:n}),[I,m]=t.useState(!0),g=t.useRef(null),a=L(),l=a["*"],{taxonomies:S}=R(),{userDetails:d}=P();switch(t.useEffect(()=>{g.current=a},[]),t.useEffect(()=>{g.current["*"]!==a["*"]&&(g.current=a,m(!1))},[a]),t.useEffect(()=>{I||i(!0)},[I]),t.useEffect(()=>{c&&(async()=>{const p=await C(l??"",S);r(p),u(p.type),E(p.listingParams)})()},[c,a]),_){case"ARTICLE_JOB":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(y,{children:e.jsx(G,{})},"single-job")});case"ARTICLE_EVENT":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(D,{},"single-event")});case"ARTICLE_PAGE":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(N,{},"single-article")});case"LISTING_JOBS":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(y,{},"job-listing")});case"LISTING_SEARCH":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(F,{},"search")});case"LISTING_TRENDINGS":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(T,{isTrending:!0},"trending")});case"LISTING_OVERSEAS":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(k,{},"overseas")});case"LISTING_EVENTS":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(O,{},"events")});case"LISTING_DEALS":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(h,{},"deals")});case"LISTING_CATEGORIES":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(T,{},`cat-${(f=s.listingParams.category)==null?void 0:f.slug_title}`)});case"LISTING_HOUSING":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(V,{},"housing")});case"LISTING_HOME":case"HOME":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(A,{},"home")});case"LOADING":return null;default:return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(b,{})})}};export{B as default};
