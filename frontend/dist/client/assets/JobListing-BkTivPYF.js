import{h as P,b,r as c,d as $,j as s,$ as O,L as U}from"./chunk-JZWAC4HX-DGixXWWH.js";import{b as Y}from"./article.service-Cf6EYyU8.js";import{I as y}from"./Image-B38Khij9.js";import{t as z,g as D}from"./format-D2eluCP0.js";import{B as v}from"./Button-CjL-dzwU.js";import{N as J}from"./Newsletter-BWtPjMOU.js";import{p as W}from"./Helmet-CI0xc-Sp.js";import"./index-BkoRSW3W.js";import"./newsletter.service-BGFLEjjE.js";import"./NotificationContext-Bm_P1CXC.js";const{Helmet:G}=W,N=({text:i})=>s.jsx(s.Fragment,{children:s.jsx("div",{className:"px-2.5 py-1.5 bg-[#eee]",children:s.jsx("p",{className:"font-medium text-[#202020]",children:i})})}),H=({article:i})=>{const{getCategoryById:t,getCountryById:a}=b(),{initialData:d}=O(),x=o=>{var l,m;return`/${(l=a(o.id_country))==null?void 0:l.slug}/${(m=t(o.category_id))==null?void 0:m.slug_title}/${o.slug}`};let e;if(typeof(i==null?void 0:i.meta_data)=="string"?e=JSON.parse(i==null?void 0:i.meta_data):e=i==null?void 0:i.meta_data,i){const o=()=>{const l=e==null?void 0:e.salary_time;return l?`${l}`.slice(0,1):"m"};return s.jsx(s.Fragment,{children:s.jsx("div",{className:"md:col-span-6 col-span-12",children:s.jsxs("div",{className:"inner py-8 px-6 border border-[#cecece]",children:[s.jsxs("div",{className:"title-wrapper flex items-center gap-x-5 mb-8",children:[s.jsx("div",{className:"image-wrapper w-[87px]",children:s.jsx(y,{url:(e==null?void 0:e.company_logo)??"/images/logo/placeholder_company.png",ratio:"87px",link:x(i)})}),s.jsx("div",{className:"title-wrapper flex-1",children:s.jsxs("div",{className:"title",children:[s.jsx("p",{className:"text-front-body-big font-bold uppercase",children:s.jsx(U,{to:x(i),viewTransition:!0,children:i.title})}),s.jsxs("p",{className:"text-front-body-big text-[#767676]",children:[(e==null?void 0:e.company_name)??"Company A"," | ",(e==null?void 0:e.company_location)??"Bali, Uluwatu"]})]})})]}),s.jsxs("div",{className:"tags-wrapper flex gap-x-2.5 mb-2.5",children:[s.jsx(N,{text:(e==null?void 0:e.job_type)??"Fulltime"}),s.jsx(N,{text:e!=null&&e.experience?`${e.experience} Years`:"1 Years"})]}),s.jsx("div",{className:"date-wrapper mb-10",children:s.jsx("p",{className:"text-[#767676] text-front-small",children:z(i.createdAt,d)})}),s.jsxs("div",{className:"footer-wrapper flex justify-between items-end",children:[s.jsx("div",{className:"item",children:s.jsxs("p",{className:"",children:[s.jsxs("span",{className:"text-[22px] text-front-red font-bold",children:[D((e==null?void 0:e.salary_currency)??"USD"),(e==null?void 0:e.salary_range)??"1000"]}),s.jsxs("span",{className:"text-front-small",children:["/",o()]})]})}),s.jsx("div",{className:"item",children:s.jsx(v,{borderOnly:!0,text:"APPLY NOW",link:x(i)})})]})]})})})}},is=({children:i})=>{var p;const{actualRoute:t}=P(),{taxonomies:a}=b(),[d,x]=c.useState([]),[e,o]=c.useState(1),[l,m]=c.useState(0),[_,w]=c.useState(),[T,A]=c.useState(),S="job-listing",I=6,r=(p=a==null?void 0:a.categories)==null?void 0:p.find(n=>n.slug_title==S),L=$();c.useEffect(()=>{(async()=>{var g,j,h,f;const n=await Y({id_country:(g=t==null?void 0:t.country)==null?void 0:g.id,id_city:(j=t==null?void 0:t.city)==null?void 0:j.id,id_region:(h=t==null?void 0:t.region)==null?void 0:h.id,limit:I,page:e,category:r==null?void 0:r.id});n!=null&&n.articles&&(x(u=>{const C=n.articles.filter(E=>!u.some(F=>F.id===E.id));return[...u,...C]}),m(((f=n.pagination)==null?void 0:f.totalPages)??1))})(),w(r==null?void 0:r.sub_title),A(r==null?void 0:r.description)},[a,t,e]);const k=()=>{o(e+1)},B=()=>{if(i)return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"fixed z-[100] inset-0 transition",children:[s.jsx("div",{className:"absolute overlay z-[100] inset-0 bg-[rgba(12,12,12,.4)]",onClick:()=>{L("..",{relative:"path",viewTransition:!0})}}),s.jsx("div",{className:"absolute rounded-xl z-[100] max-h-[90vh] overflow-scroll left-0 right-0 bottom-0",children:i})]})})};return s.jsxs(s.Fragment,{children:[s.jsx(G,{children:s.jsx("title",{children:"Job Listing - Whatsnew Asia"})}),s.jsx("div",{className:"image-wrapper mb-10",children:s.jsx(y,{url:"/images/placeholder_job.png",ratio:"38%"})}),s.jsxs("div",{className:"page-container py-10",children:[s.jsxs("div",{className:"container mb-24",children:[s.jsx("div",{className:"grid grid-cols-12 mb-20",children:s.jsxs("div",{className:"col-span-6 col-start-4 text-center",children:[s.jsx("p",{className:"font-serif text-front-hero mb-4",children:_}),s.jsx("p",{className:"text-front-body",children:T})]})}),s.jsx("div",{className:"grid grid-cols-12 gap-5 mb-16",children:d==null?void 0:d.map(n=>s.jsx(H,{article:n}))}),l>e&&s.jsx("div",{className:"button-wrapper text-center",children:s.jsx(v,{text:"VIEW MORE",onClick:k})})]}),s.jsx("div",{className:"outer bg-front-section-grey py-8",children:s.jsx(J,{})})]}),B()]})};export{is as default};
