const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk-JZWAC4HX-MhG5dLac.css","assets/pagination-BUrcyj0q.css","assets/Trending-DQzmXbEx.css","assets/index-D3b48Htt.css","assets/Events-7SWrf_k_.css","assets/SingleJob-DpsRipQV.css"])))=>i.map(i=>d[i]);
import{h as j,r as t,e as x,b as L,u as R,j as e,_ as o}from"./chunk-JZWAC4HX-CxGh2Gxx.js";import{g as P}from"./article.service-D8y3Mfe_.js";const v=t.lazy(()=>o(()=>import("./Trending-BGch8oCG.js").then(c=>c.e),__vite__mapDeps([0,1,2]))),A=t.lazy(()=>o(()=>import("./Single-DAsCgEN5.js"),__vite__mapDeps([0,1]))),N=t.lazy(()=>o(()=>import("./Deals-CTqv09fA.js"),__vite__mapDeps([0,3]))),f=t.lazy(()=>o(()=>import("./JobListing-Dt0G6Lu1.js"),__vite__mapDeps([0]))),y=t.lazy(()=>o(()=>import("./Directory-BlZEshr4.js"),__vite__mapDeps([0]))),O=t.lazy(()=>o(()=>import("./Events-OnOjncac.js"),__vite__mapDeps([0,3,4]))),h=t.lazy(()=>o(()=>import("./SingleJob-C-CRvYf0.js"),__vite__mapDeps([0,5]))),G=t.lazy(()=>o(()=>import("./SingleEvent-CAQwGVgB.js"),__vite__mapDeps([0,1]))),D=t.lazy(()=>o(()=>import("./NotFound-Deqbx1IN.js"),__vite__mapDeps([0]))),b=t.lazy(()=>o(()=>import("./Housing-3BoRPRXm.js"),__vite__mapDeps([0]))),V=t.lazy(()=>o(()=>import("./Search-DY6VRnmj.js"),__vite__mapDeps([0]))),F=t.lazy(()=>o(()=>import("./Overseas-go0UIfds.js"),__vite__mapDeps([0]))),T=(c,_)=>{const E={country:void 0,city:void 0,region:void 0,category:void 0};return c.forEach(i=>{var g,I,a,S;const n=(g=_.countries)==null?void 0:g.find(l=>l.slug==i),u=(I=_.cities)==null?void 0:I.find(l=>l.slug==i),s=(a=_.regions)==null?void 0:a.find(l=>l.slug==i),r=(S=_.categories)==null?void 0:S.find(l=>l.slug_title==i);n?E.country=n:u?E.city=u:s?E.region=s:r&&(E.category=r)}),E},k=async(c,_,E)=>{var g,I,a,S,l;const i=c?c.split("/").filter(Boolean):[];if(i.length===0)return{type:"HOME",listingParams:{country:void 0,city:void 0,region:void 0,category:void 0}};const n=i[i.length-1],u=await P(n);if(u){const m=(g=_.categories)==null?void 0:g.find(d=>d.id==u.category_id),p=T(i.slice(0,-1),_);return(m==null?void 0:m.slug_title)==="job-listing"?{type:"ARTICLE_JOB",listingParams:{...p,article:u},articleSlug:n}:(m==null?void 0:m.slug_title)==="events"?{type:"ARTICLE_EVENT",listingParams:{...p,article:u},articleSlug:n}:{type:"ARTICLE_PAGE",listingParams:{...p,article:u},articleSlug:n}}const s=T(i,_),r={...s,article:void 0};return n==="trending"?{type:"LISTING_TRENDINGS",listingParams:r}:n==="overseas"?{type:"LISTING_OVERSEAS",listingParams:r}:n==="search"?{type:"LISTING_SEARCH",listingParams:r}:((I=s.category)==null?void 0:I.slug_title)==="events"?{type:"LISTING_EVENTS",listingParams:r}:((a=s.category)==null?void 0:a.slug_title)==="job-listing"?{type:"LISTING_JOBS",listingParams:r}:((S=s.category)==null?void 0:S.slug_title)==="deals"?{type:"LISTING_DEALS",listingParams:r}:((l=s.category)==null?void 0:l.slug_title)==="housing"?{type:"LISTING_HOUSING",listingParams:r}:s.category?{type:"LISTING_CATEGORIES",listingParams:r}:!s.country&&!s.city&&!s.region&&!s.category?{type:"NOT_FOUND",listingParams:r}:{type:"LISTING_HOME",listingParams:r}},H=()=>{var p;const{routeType:c,setRouteType:_,setActualRoute:E,actualRoute:i,setClientChange:n,clientChange:u}=j(),[s,r]=t.useState({type:c,listingParams:i}),g=t.useRef(null),I=t.useRef(!0),a=x(),S=a["*"],{taxonomies:l}=L(),{userDetails:m}=R();switch(t.useEffect(()=>{if(I.current){g.current=a,I.current=!1,(c==="LOADING"||!c)&&n(!0);return}g.current["*"]!==a["*"]&&(g.current=a,n(!0))},[a]),t.useEffect(()=>{u&&(async()=>{const d=await k(S??"",l);r(d),_(d.type),E(d.listingParams)})()},[u,a]),c){case"ARTICLE_JOB":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(f,{children:e.jsx(h,{})},"single-job")});case"ARTICLE_EVENT":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(G,{},"single-event")});case"ARTICLE_PAGE":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(A,{},"single-article")});case"LISTING_JOBS":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(f,{},"job-listing")});case"LISTING_SEARCH":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(V,{},"search")});case"LISTING_TRENDINGS":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(y,{isTrending:!0},"trending")});case"LISTING_OVERSEAS":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(F,{},"overseas")});case"LISTING_EVENTS":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(O,{},"events")});case"LISTING_DEALS":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(N,{},"deals")});case"LISTING_CATEGORIES":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(y,{},`cat-${(p=s.listingParams.category)==null?void 0:p.slug_title}`)});case"LISTING_HOUSING":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(b,{},"housing")});case"LISTING_HOME":case"HOME":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(v,{},"home")});case"LOADING":return null;default:return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(D,{})})}};export{H as default};
