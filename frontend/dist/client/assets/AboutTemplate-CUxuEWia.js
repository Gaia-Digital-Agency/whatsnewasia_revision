import{r as l,j as t}from"./chunk-JZWAC4HX-BaRxOj3G.js";import{g as v,a as N,c as C}from"./template.service-BGn-PH62.js";import{C as T}from"./ComponentCard-Bj4wr1CG.js";import{I as c}from"./InputField-CxSLAK4_.js";import{T as b}from"./TextArea-BXqZXbfS.js";import{L as n}from"./Label-CbHK8J5W.js";import{A}from"./FeaturedImage-D41CYf4Z.js";import{B as S}from"./Button-Daz7UfMq.js";import{u as k}from"./NotificationContext-BWqXEdeR.js";import"./index-DCyd9kTA.js";import"./media.service-DraIvXRR.js";import"./MediaForm-Be0YSqNR.js";import"./index-Ca5Z8a4N.js";import"./index-B6789YIy.js";import"./PageBreadCrumb-Bw4cwgNk.js";import"./PageMeta-BgUgIrIo.js";import"./Alert-DqFGWyGV.js";import"./useTimedMessage-BwZa_Nir.js";import"./useModal-CQMqfSBi.js";import"./admin-CjiJQ6Cc.js";import"./newsletter.service-ZKntKtau.js";import"./article.service-BgP4NldJ.js";import"./useArticle-DWTfMO-p.js";import"./createLucideIcon-D_j1gqcj.js";const Y=()=>{const[i,r]=l.useState({title:"",description:"",link:"",image:{url:"",alt:""}}),[m,p]=l.useState(!1),{setNotification:d}=k(),o="/about";l.useEffect(()=>{(async()=>{var a;const e=await v(o);(a=e==null?void 0:e.data)!=null&&a.content&&e.status_code==200&&(r(JSON.parse(e.data.content)),p(!0))})()},[]);const u=e=>{r(a=>({...a,title:e.target.value}))},g=e=>{console.log(e),r(a=>({...a,description:e}))},f=e=>{r(a=>({...a,link:e.target.value}))},h=e=>{e&&r(a=>({...a,image:{url:e.path,alt:i.image.alt}}))},x=()=>t.jsx(A,{onSave:h,url:i.image.url??""}),s=(e="Action Success",a="neutral")=>{d({type:a,message:e,isClosed:!1})},j=async()=>{try{if(m){if(await N(o,"About",JSON.stringify(i))){s();return}s("Failed","fail")}else{if(await C(o,"About",JSON.stringify(i))){s();return}s("Failed","fail")}}catch(e){console.log(e)}};return t.jsxs(t.Fragment,{children:[t.jsx(T,{children:t.jsxs("div",{className:"grid grid-cols-12 items-center gap-x-10",children:[t.jsxs("div",{className:"col-span-6",children:[t.jsxs("div",{className:"input-wrapper mb-8",children:[t.jsx(n,{children:"Title"}),t.jsx(c,{onChange:u,value:i.title,placeholder:"Title"})]}),t.jsxs("div",{className:"input-wrapper mb-8",children:[t.jsx(n,{children:"Description"}),t.jsx(b,{onChange:g,value:i.description,placeholder:"Description"})]}),t.jsxs("div",{className:"input-wrapper mb-8",children:[t.jsx(n,{children:"Link"}),t.jsx(c,{onChange:f,value:i.link,placeholder:"Link"})]})]}),t.jsx("div",{className:"col-span-6",children:t.jsxs("div",{className:"input-wrapper mb-8",children:[t.jsx(n,{children:"Image"}),x()]})})]})}),t.jsx(S,{onClick:j,children:"Save"})]})};export{Y as default};
