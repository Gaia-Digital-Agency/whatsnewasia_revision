import{r as l,j as t}from"./chunk-JZWAC4HX-CxGh2Gxx.js";import{g as v,a as N,c as C}from"./template.service-sdOudgEg.js";import{C as T}from"./ComponentCard-C_3qlk9J.js";import{I as c}from"./InputField-DA8OIelJ.js";import{T as b}from"./TextArea-Da-cjmq3.js";import{L as n}from"./Label-C4_1yZch.js";import{A}from"./FeaturedImage-BPUrwdEP.js";import{B as S}from"./Button--HbAVftr.js";import{u as k}from"./NotificationContext-eACEaNiY.js";import"./index-Cf1TiTbD.js";import"./media.service-o8AQdxDz.js";import"./MediaForm-BzlJ05xn.js";import"./index-RK8lyzCV.js";import"./index-BN9qmei8.js";import"./PageBreadCrumb-DW_siipK.js";import"./PageMeta-B5TRooE1.js";import"./Alert-C0X0X6mW.js";import"./useTimedMessage-DWdBIWEZ.js";import"./useModal-D_r8d8wF.js";import"./Badge-2x3-nqzU.js";import"./createLucideIcon-7IXI4zfk.js";const V=()=>{const[i,s]=l.useState({title:"",description:"",link:"",image:{url:"",alt:""}}),[m,p]=l.useState(!1),{setNotification:d}=k(),o="/about";l.useEffect(()=>{(async()=>{var a;const e=await v(o);(a=e==null?void 0:e.data)!=null&&a.content&&e.status_code==200&&(s(JSON.parse(e.data.content)),p(!0))})()},[]);const u=e=>{s(a=>({...a,title:e.target.value}))},g=e=>{console.log(e),s(a=>({...a,description:e}))},f=e=>{s(a=>({...a,link:e.target.value}))},h=e=>{e&&s(a=>({...a,image:{url:e.path,alt:i.image.alt}}))},x=()=>t.jsx(A,{onSave:h,url:i.image.url??""}),r=(e="Action Success",a="neutral")=>{d({type:a,message:e,isClosed:!1})},j=async()=>{try{if(m){if(await N(o,"About",JSON.stringify(i))){r();return}r("Failed","fail")}else{if(await C(o,"About",JSON.stringify(i))){r();return}r("Failed","fail")}}catch(e){console.log(e)}};return t.jsxs(t.Fragment,{children:[t.jsx(T,{children:t.jsxs("div",{className:"grid grid-cols-12 items-center gap-x-10",children:[t.jsxs("div",{className:"col-span-6",children:[t.jsxs("div",{className:"input-wrapper mb-8",children:[t.jsx(n,{children:"Title"}),t.jsx(c,{onChange:u,value:i.title,placeholder:"Title"})]}),t.jsxs("div",{className:"input-wrapper mb-8",children:[t.jsx(n,{children:"Description"}),t.jsx(b,{onChange:g,value:i.description,placeholder:"Description"})]}),t.jsxs("div",{className:"input-wrapper mb-8",children:[t.jsx(n,{children:"Link"}),t.jsx(c,{onChange:f,value:i.link,placeholder:"Link"})]})]}),t.jsx("div",{className:"col-span-6",children:t.jsxs("div",{className:"input-wrapper mb-8",children:[t.jsx(n,{children:"Image"}),x()]})})]})}),t.jsx(S,{onClick:j,children:"Save"})]})};export{V as default};
