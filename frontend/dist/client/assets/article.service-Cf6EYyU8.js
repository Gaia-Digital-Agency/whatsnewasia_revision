import{n as r}from"./chunk-JZWAC4HX-DGixXWWH.js";const d=async a=>{try{const t=await r.get(`article/admin/${a}`);if(t.data.status_code==200&&t.data.data)return t.data.data[0]}catch(t){console.log(t)}},l=async(a,t)=>{try{const e=Object.entries(a).flatMap(([o,s])=>s?Array.isArray(s)?s.map(n=>`${o}[]=${n}`):[`${o}=${s}`]:[]),c=await r.get(`article/?${e.flat().join("&")}${e.length?"&":""}${t!=null&&t.toString()?`${t.toString()}`:""}`);if(c.data.status_code!=200)throw Error("cant get articles");return c.data.data}catch(e){console.log(e)}},g=async a=>{var t;try{const e=await r.get(`article/?slug=${a}`);if(e.data.status_code==200&&((t=e==null?void 0:e.data.data)!=null&&t.articles.length))return e.data.data.articles[0];throw Error(e.statusText)}catch(e){console.log(e)}},u=async()=>{try{const a=await r.get("article?limit=10&isTrending=1");if(a.data.status_code===200&&a.data.data)return a.data.data;throw Error(a.statusText)}catch(a){console.error(a)}},y=async()=>{try{return(await r.get("article/count-articles")).data}catch(a){console.error(a)}},h=async a=>{try{const t=new URLSearchParams(Object.fromEntries(Object.entries(a).map(([c,o])=>[c,String(o)]))),e=await r.get(`article/search?${t.toString()}`);if(e.data.status_code==200&&e.data.data)return e.data.data}catch(t){console.log(t)}},w=async(a,t)=>{try{const e=await r.put(`article/admin/${a}`,t);if(e.data.status_code!=200)throw Error("Unexpected error occured"+e.data);return!0}catch(e){console.log(e)}},A=async a=>{try{const t=await r.post("article/admin",a);if(t.data.status_code!=200)throw Error("Unexpected error occured"+t.data);return t.data.data}catch(t){console.log(t)}},f=async a=>{try{if((await r.delete(`article/admin/${a}`)).data.status_code!=200)throw Error("cant delete");return!0}catch(t){console.log(t)}};export{y as a,l as b,u as c,f as d,h as e,d as f,g,w as h,A as i};
