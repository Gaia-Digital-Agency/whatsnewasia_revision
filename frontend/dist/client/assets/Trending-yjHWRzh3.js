import{h as A,b as E,r as c,j as e,L as S,f as te,X as ne}from"./chunk-JZWAC4HX-DGixXWWH.js";import{B as I}from"./Button-CjL-dzwU.js";import{u as w}from"./useArticle-CHSnUTrj.js";import{I as $}from"./Image-B38Khij9.js";import{S as C,N as re}from"./navigation-BdfLAnRc.js";import{T as W}from"./TextLink-DmECMqSD.js";import{S as H,a as M}from"./create-element-if-not-defined-BY4OuRJn.js";import{u as ie,g as B}from"./index-BkoRSW3W.js";import{P as D}from"./pagination-bkL1SpIs.js";import{N as ae}from"./Newsletter-BWtPjMOU.js";import{f as le}from"./format-D2eluCP0.js";import{A as oe}from"./Advertisement-Cq0Qawx2.js";import{g as J}from"./template.service-B7okUSdY.js";import{p as ce}from"./Helmet-CI0xc-Sp.js";const O=({children:r})=>e.jsx(e.Fragment,{children:e.jsx("p",{className:"text-white text-front-subtitle mb-6",children:r||e.jsx(C,{count:3})})}),Y=r=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"absolute bottom-20 left-0 right-0 z-10",children:e.jsx("div",{className:"container",children:r.children})})}),z=r=>e.jsx(e.Fragment,{children:e.jsx("h1",{className:`text-front-hero font-serif text-white ${r.className}`,children:r.children||e.jsx(C,{count:2})})}),X=({preContent:r=[],admin:s=!1})=>{const{actualRoute:n,clientChange:m}=A(),{getCityById:i,getCountryById:t,getRegionById:x,taxonomies:o}=E(),{generateContent:f,getPermalink:p,getFeaturedImageUrl:y}=w(),u=c.useRef(null),l=c.useRef(null),a=c.useRef(null),h=c.useRef(null),v=c.useRef({play:()=>{}}),j="featured",[g,T]=c.useState(r),L=d=>d.id_region?x(d.id_region):d.id_city?i(d.id_city):t(d.id_country);c.useEffect(()=>{m&&(async()=>{var N,k,F,b,P;const d=await f({content:r,query:{id_country:(N=n==null?void 0:n.country)==null?void 0:N.id,id_city:(k=n==null?void 0:n.city)==null?void 0:k.id,id_region:(F=n==null?void 0:n.region)==null?void 0:F.id,limit:3,pinned:1,category:(P=(b=o.categories)==null?void 0:b.find(G=>G.slug_title==j))==null?void 0:P.id}});T(d||[])})()},[n,r,m]),ie(()=>{if(!g.length||!l.current)return;const d=B.utils.toArray("#hero-article .loading-bar"),N=B.utils.toArray("#hero-article .tab-content"),k=F=>{var G,V,q;u.current&&u.current.kill();let b=F;if(b>=d.length&&(b=0),B.set(d,{width:U=>U<b?"100%":"0%",height:"1px",backgroundColor:"#fff"}),(G=l.current)==null||G.slideToLoop(b),(V=a.current)==null||V.slideToLoop(b),s)return;N.forEach(U=>{U.classList.remove("active")}),(q=N[b])==null||q.classList.add("active");const P=B.to(d[b],{width:"100%",duration:6,ease:"none",onComplete:()=>{k(b+1)}});u.current=P};return v.current.play=k,s||k(0),()=>{var F;(F=u.current)==null||F.kill()}},[g]);const se=d=>{v.current.play(d)};return g.length?e.jsx(e.Fragment,{children:e.jsx("section",{children:e.jsxs("div",{id:"hero-article",className:"relative",children:[e.jsx(H,{onSwiper:d=>l.current=d,slidesPerView:1,allowTouchMove:!1,children:g.map((d,N)=>{if(d)return e.jsx(M,{children:e.jsx($,{width:"1920",height:"1080",fetchPriority:N?"low":"high",isLazy:!!N,url:y(d,"16_9"),ratio:"max( calc(100vh - var(--nav-height)), 750px )",mobileRatio:"150%",overlay:!0,alt:d==null?void 0:d.featured_image_alt})},`image-${N}`)})}),e.jsxs(Y,{children:[e.jsx(H,{onSwiper:d=>a.current=d,slidesPerView:1,autoHeight:!0,noSwiping:!0,allowTouchMove:!1,children:g.map((d,N)=>{if(d)return e.jsx(M,{children:e.jsxs("div",{className:"md:max-w-3/4",children:[e.jsx(z,{className:"mb-7",children:d.title}),e.jsx(O,{children:d==null?void 0:d.sub_title}),e.jsx("div",{className:"button-wrapper",children:e.jsx(I,{uppercase:!0,text:"Read More",link:s?void 0:p(d)})})]})},`text-${N}`)})}),e.jsx("div",{className:"grid grid-cols-3 gap-x-8 pt-12",ref:h,children:g.map((d,N)=>{var k;if(d)return e.jsxs("div",{onClick:()=>{se(N)},"data-index":N,className:`tab-content text-white col-span-3 md:col-span-1 cursor-pointer${N==0?" active":""}`,children:[e.jsx("div",{className:"loading-bar-wrapper relative h-[1px] mb-4",children:e.jsx("div",{className:"loading-bar mb-2"})}),e.jsx("div",{className:"category-wrapper mb-4",children:d?(k=L(d))==null?void 0:k.name:e.jsx(C,{})}),e.jsx("div",{className:"title-wrapper hidden",children:d!=null&&d.title?d.title:e.jsx(C,{})})]},`tabs-${N}`)})})]})]})})}):e.jsxs("div",{className:"h-screen w-screen relative",children:[e.jsx(C,{className:"absolute w-full h-full inset-0"}),e.jsxs(Y,{children:[e.jsx(z,{}),e.jsx(O,{})]})]})},Ee=({preContent:r=[0,0,0]})=>{const s=c.useRef(null),[n,m]=c.useState([]);c.useEffect(()=>{(async()=>{const t=await i({content:r,admin:!0});t&&m(t)})()},[r]);const{generateContent:i}=w();if(n.length)return e.jsx(e.Fragment,{children:e.jsx("div",{ref:s,children:e.jsx(X,{admin:!0,preContent:n})})})},K=({preContent:r})=>{const[s,n]=c.useState(r??[]),[m,i]=c.useState(""),{actualRoute:t,clientChange:x}=A(),{getPermalink:o,getFeaturedImageUrl:f,generateContent:p}=w(),{taxonomies:y}=E(),u="most-popular",l=()=>{var a;return(a=y==null?void 0:y.categories)==null?void 0:a.filter(h=>h.slug_title==u)[0]};return c.useEffect(()=>{x&&(async()=>{var a,h,v,j;try{const g=await p({content:r,query:{id_country:(a=t==null?void 0:t.country)==null?void 0:a.id,id_city:(h=t==null?void 0:t.city)==null?void 0:h.id,id_region:(v=t==null?void 0:t.region)==null?void 0:v.id,limit:8,category:(j=l())==null?void 0:j.id}});g&&n(g)}catch(g){console.log(g)}})()},[t,r,x]),c.useEffect(()=>{if(t!=null&&t.region){i(t.region.name);return}if(t!=null&&t.city){i(t.city.name);return}if(t!=null&&t.country){i(t.country.name);return}i("Asia")},[t]),s.filter(Boolean).length?e.jsxs(e.Fragment,{children:[e.jsx(_,{}),e.jsx("div",{id:"most-popular",className:"bg-front-section-grey py-12",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"title-wrapper mb-8 text-center",children:[e.jsxs("p",{className:"text-front-section-title font-serif text-front-grey font-semibold mb-2",children:["The Most Popular Area in ",e.jsx("span",{className:"text-front-red",children:m})]}),e.jsx("p",{className:"text-front-body text-front-grey",children:"Explore diverse experiences at every destination and uncover exciting, budget-friendly adventures."})]}),e.jsxs("div",{className:"slider-wrapper pb-8 mb-8 relative",children:[e.jsx("div",{className:"swiper-pagination"}),e.jsx(H,{slidesPerView:1,spaceBetween:10,modules:[D],pagination:{el:"#most-popular .swiper-pagination",enabled:!0,clickable:!0},breakpoints:{768:{slidesPerView:3,spaceBetween:40}},children:s==null?void 0:s.map(a=>{if(a)return e.jsx(e.Fragment,{children:e.jsx(M,{children:e.jsxs("div",{className:"inner",children:[e.jsx("div",{className:"image-wrapper mb-4",children:e.jsx($,{url:f(a),ratio:"145%",link:o(a),alt:a==null?void 0:a.featured_image_alt})}),e.jsx("div",{className:"text-wrapper",children:e.jsxs(S,{to:o(a),children:[e.jsx("div",{className:"title mb-2",children:e.jsx("p",{className:"font-serif text-front-article-title",children:a.title})}),e.jsx("div",{className:"subtitle",children:e.jsx("p",{className:"text-front-body-big",children:a.sub_title})})]})})]})})})})})]}),e.jsx("div",{className:"button-wrapper text-center",children:e.jsx(I,{text:"VIEW ALL",link:`${t!=null&&t.country?`/${t.country.slug}`:""}${t!=null&&t.city?`/${t.city.slug}`:""}${t!=null&&t.region?`/${t.region.slug}`:""}/${u}`})})]})}),e.jsx(_,{})]}):e.jsx(e.Fragment,{})},Te=({preContent:r})=>{const[s,n]=c.useState(),{generateContent:m}=w();if(c.useEffect(()=>{(async()=>{const i=await m({content:r,admin:!0});i&&n(i)})()},[]),s)return e.jsx(K,{preContent:s,admin:!0})},Q=({preContent:r})=>{const{actualRoute:s,clientChange:n}=A(),{taxonomies:m}=E(),[i,t]=c.useState(r),[x,o]=c.useState(),{generateContent:f,getPermalink:p,getFeaturedImageUrl:y}=w(),u="ultimate-guide",l=()=>{var a;return(a=m==null?void 0:m.categories)==null?void 0:a.find(h=>h.slug_title==u)};return c.useEffect(()=>{n&&(async()=>{var a,h,v,j;try{const g=await f({content:r,query:{id_country:(a=s==null?void 0:s.country)==null?void 0:a.id,id_city:(h=s==null?void 0:s.city)==null?void 0:h.id,id_region:(v=s==null?void 0:s.region)==null?void 0:v.id,category:(j=l())==null?void 0:j.id,limit:6}});g&&t(g)}catch(g){console.log(g)}})()},[s,n]),c.useEffect(()=>{if(s!=null&&s.region){o(s.region.name);return}if(s!=null&&s.city){o(s.city.name);return}if(s!=null&&s.country){o(s.country.name);return}o("Asia")},[n,s]),e.jsx(e.Fragment,{children:i&&!!i.filter(Boolean).length&&e.jsxs(e.Fragment,{children:[e.jsx(_,{}),e.jsx("section",{id:"ultimate-guide",children:e.jsxs("div",{className:"md:container px-0 md:px-7",children:[e.jsx("div",{className:"title-wrapper text-center mb-8",children:e.jsxs("p",{className:"font-serif font-semibold text-front-section-title text-front-grey",children:[x?`${x}’s `:"","Latest ",e.jsx("span",{className:"text-front-red",children:"Ultimate Guide"})]})}),e.jsxs("div",{className:"slider-wrapper pb-8 mb-8 relative",children:[e.jsx("div",{className:"swiper-pagination"}),e.jsxs(H,{slidesPerView:1,modules:[D,re],pagination:{el:"#ultimate-guide .swiper-pagination",enabled:!0,clickable:!0},navigation:{nextEl:"#ultimate-guide .next-button",prevEl:"#ultimate-guide .prev-button",enabled:!0},breakpoints:{1024:{}},children:[i==null?void 0:i.map((a,h)=>{if(a)return e.jsx(M,{children:e.jsx("div",{className:"inner",children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"lg:col-span-6 col-span-12 h-full lg:order-1 order-2",children:e.jsxs("div",{className:"flex flex-col h-full justify-center items-center bg-[#000] md:px-14 py-10 lg:py-0",children:[e.jsx("div",{className:"category-wrapper text-center pb-6 md:mb-6 mb-4",children:e.jsx("p",{className:"text-front-body text-white before-red-line",children:"ULTIMATE GUIDE"})}),e.jsx("div",{className:"title-wrapper text-center mb-3",children:e.jsx("p",{className:"text-front-main-title font-serif text-white",children:a.title})}),e.jsx("div",{className:"subtitle-wrapper text-center mb-4",children:e.jsx("p",{className:"text-front-body-big text-white",children:a.sub_title})}),e.jsx("div",{className:"text-link-wrapper",children:e.jsx(W,{text:"Read More",uppercase:!0,color:"white",link:p(a)})})]})}),e.jsx("div",{className:"lg:col-span-6 col-span-12 lg:order-2 order-1",children:e.jsx("div",{className:"image-wrapper",children:e.jsx($,{url:y(a),link:p(a),ratio:"100%",alt:a==null?void 0:a.featured_image_alt})})})]})})},`ultimate-guide-${h}`)}),e.jsxs("div",{className:"swiper-navigation",children:[e.jsx("div",{className:"prev-button cursor-pointer absolute top-1/2 -translate-y-1/2 left-0 z-10",children:e.jsx("div",{className:"inner w-[32px] h-[32px] flex justify-center items-center bg-front-red",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",style:{rotate:"180deg"},children:e.jsx("path",{d:"M0.589844 10.59L5.16984 6L0.589844 1.41L1.99984 0L7.99984 6L1.99984 12L0.589844 10.59Z",fill:"#fff"})})})}),e.jsx("div",{className:"next-button cursor-pointer absolute top-1/2 -translate-y-1/2 right-0 z-10",children:e.jsx("div",{className:"inner w-[32px] h-[32px] flex justify-center items-center bg-front-red",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",children:e.jsx("path",{d:"M0.589844 10.59L5.16984 6L0.589844 1.41L1.99984 0L7.99984 6L1.99984 12L0.589844 10.59Z",fill:"#fff"})})})})]})]})]}),e.jsx("div",{className:"button-wrapper text-center py-6",children:e.jsx(I,{text:"VIEW ALL",link:`${s!=null&&s.country?`/${s.country.slug}`:""}${s!=null&&s.city?`/${s.city.slug}`:""}${s!=null&&s.region?`/${s.region.slug}`:""}/${u}`})})]})})]})})},Ie=({preContent:r})=>{const[s,n]=c.useState([]),{generateContent:m}=w();if(c.useEffect(()=>{(async()=>{const i=await m({content:r,admin:!0});i&&n(i)})()},[r]),s.length)return e.jsx(Q,{preContent:s,admin:!0})},de=({preContent:r=[]})=>{const{actualRoute:s,clientChange:n}=A(),{taxonomies:m,getCategoryById:i}=E(),t=["experience","ultimate-guide","featured"],{generateContent:x,getPermalink:o,getFeaturedImageUrl:f}=w(),[p,y]=c.useState(r),u=l=>i(l.category_id);return c.useEffect(()=>{n&&(async()=>{var l,a;try{const h=(l=m==null?void 0:m.countries)==null?void 0:l.filter(j=>{var g;return((g=s==null?void 0:s.country)==null?void 0:g.id)!=j.id}).map(j=>j.id),v=await x({content:r,query:{id_country:h,limit:8,category:(a=m.categories)==null?void 0:a.filter(j=>t.includes(j.slug_title)).map(j=>j.id)}});v&&y(v)}catch(h){console.log(h)}})()},[s,r,n]),e.jsx(e.Fragment,{children:!!p.filter(Boolean).length&&e.jsxs(e.Fragment,{children:[e.jsx(_,{}),e.jsx("section",{id:"overseas",children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"title-wrapper text-center mb-8",children:e.jsxs("p",{className:"text-front-section-title font-serif font-semibold",children:[e.jsx("span",{className:"text-front-red",children:"Overseas"})," News"]})}),e.jsx("div",{className:"grid grid-cols-12 md:gap-x-10 gap-y-10 gap-x-6 md:mb-10 mb-12 overflow-x-hidden",children:p==null?void 0:p.map(l=>{var a;if(l)return e.jsxs("div",{className:"md:col-span-6 lg:col-span-3 col-span-12 line-right-5 relative",children:[e.jsx("div",{className:"image-wrapper mb-5",children:e.jsx($,{url:f(l),ratio:"100%",mobileRatio:"125%",link:o(l),alt:l==null?void 0:l.featured_image_alt})}),e.jsx("div",{className:"category-wrapper mb-2",children:e.jsx("p",{className:"text-front-grey",children:(a=u(l))==null?void 0:a.title})}),e.jsx("div",{className:"title-wrapper",children:e.jsx(S,{to:o(l),children:e.jsx("p",{className:"text-front-title text-front-grey font-serif",children:l.title})})})]},"overseas-"+l.id)})}),e.jsx("div",{className:"button-wrapper text-center",children:e.jsx(I,{text:"VIEW ALL",link:`${s!=null&&s.country?`/${s.country.slug}`:""}${s!=null&&s.city?`/${s.city.slug}`:""}${s!=null&&s.region?`/${s.region.slug}`:""}/overseas`})})]})}),e.jsx(_,{})]})})},R=({preContent:r=[]})=>{const[s,n]=c.useState(r),[m,i]=c.useState(""),{actualRoute:t,clientChange:x}=A(),{taxonomies:o}=E(),{generateContent:f,getPermalink:p,getFeaturedImageUrl:y}=w(),u="events";return c.useEffect(()=>{x&&(async()=>{var l,a,h,v,j;try{const g=await f({content:r,query:{id_country:(l=t==null?void 0:t.country)==null?void 0:l.id,id_city:(a=t==null?void 0:t.city)==null?void 0:a.id,id_region:(h=t==null?void 0:t.region)==null?void 0:h.id,limit:4,category:(j=(v=o==null?void 0:o.categories)==null?void 0:v.find(T=>T.slug_title==u))==null?void 0:j.id}});n(g||[])}catch(g){console.log(g)}})()},[t,r,x]),c.useEffect(()=>{if(t!=null&&t.region){i(t.region.name);return}if(t!=null&&t.city){i(t.city.name);return}if(t!=null&&t.country){i(t.country.name);return}i("Asia")},[t]),e.jsx(e.Fragment,{children:!!s.filter(Boolean).length&&e.jsxs(e.Fragment,{children:[e.jsx(_,{}),e.jsx("section",{id:"events",children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"title-wrapper text-center mb-8",children:e.jsxs("p",{className:"text-front-section-title font-serif font-semibold",children:[e.jsxs("span",{className:"text-front-red",children:[m," Events"]})," You Shouldn’t Miss"]})}),e.jsx("div",{className:"grid grid-cols-12 md:gap-x-10 gap-y-10 mb-6 md:mb-4 overflow-x-hidden",children:s==null?void 0:s.map(l=>{var a;if(l)return e.jsx("div",{className:"md:col-span-6 lg:col-span-3 col-span-12 line-right-5 relative",children:e.jsxs("div",{className:"inner grid grid-cols-12 gap-x-6 md:gap-x-0",children:[e.jsxs("div",{className:"col-span-6 md:col-span-12",children:[e.jsxs("div",{className:"date pb-4 flex gap-x-2",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",children:[e.jsx("path",{d:"M1.125 4.14229C1.125 3.17103 1.91236 2.38367 2.88362 2.38367H12.1164C13.0877 2.38367 13.875 3.17103 13.875 4.14229V11.6164C13.875 12.5877 13.0877 13.375 12.1164 13.375H2.88362C1.91236 13.375 1.125 12.5877 1.125 11.6164V4.14229Z",stroke:"#7F7F7F",strokeWidth:"0.9",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M3.98267 0.624878V3.70246",stroke:"#7F7F7F",strokeWidth:"0.9",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M11.0173 0.624878V3.70246",stroke:"#7F7F7F",strokeWidth:"0.9",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M3.76294 5.90027H11.2371",stroke:"#7F7F7F",strokeWidth:"0.9",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("p",{className:"text-front-small text-front-soft-gray",children:le((a=l==null?void 0:l.meta_data)==null?void 0:a.start_date)??"TBA"})]}),e.jsx("div",{className:"image-wrapper md:mb-4",children:e.jsx($,{url:y(l),ratio:"100%",link:p(l),alt:l==null?void 0:l.featured_image_alt})})]}),e.jsxs("div",{className:"col-span-6 md:col-span-12",children:[e.jsx("div",{className:"title-wrapper mb-4",children:e.jsx(S,{to:p(l),children:e.jsx("p",{className:"text-front-title text-front-grey font-serif",children:l.title})})}),e.jsx("div",{className:"link-text-wrapper",children:e.jsx(W,{text:"Read More",uppercase:!0,color:"gray",link:p(l)})})]})]})},`events-home-${l.id}`)})}),e.jsx("div",{className:"button-wrapper text-center py-6",children:e.jsx(I,{text:"VIEW ALL",link:`${t!=null&&t.country?`/${t.country.slug}`:""}${t!=null&&t.city?`/${t.city.slug}`:""}${t!=null&&t.region?`/${t.region.slug}`:""}/${u}`})})]})})]})})},Pe=({preContent:r})=>{const[s,n]=c.useState([]),{generateContent:m}=w();if(c.useEffect(()=>{(async()=>{const i=await m({content:r,admin:!0});i&&n(i)})()},[r]),s.length)return e.jsx(R,{preContent:s,admin:!0})},me="http://34.124.244.233/whatsnewasia",xe=()=>{var m,i;const{initialData:r}=te(),[s,n]=c.useState(r==null?void 0:r.about);return c.useEffect(()=>{s||(async()=>{var t;try{const x=await J("/about");(x==null?void 0:x.status_code)==200&&((t=x.data)!=null&&t.content)&&n(JSON.parse(x.data.content))}catch(x){console.log("Error fetching about template:",x)}})()},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"container pb-16 mb-12 border-b border-[#5F5F5F]",children:e.jsxs("div",{className:"grid grid-cols-12 md:gap-x-10 gap-y-10 items-center",children:[e.jsxs("div",{className:"md:col-span-6 col-span-12 md:order-1 order-2",children:[e.jsx("div",{className:"title-wrapper mb-3",children:e.jsx("p",{className:"font-serif font-semibold text-front-section-title",children:(s==null?void 0:s.title)??e.jsx(C,{})})}),e.jsx("div",{className:"description-wrapper",children:e.jsx("p",{className:"text-front-body-big",children:(s==null?void 0:s.description)??e.jsx(C,{})})})]}),e.jsx("div",{className:"md:col-span-6 col-span-12 md:order-2 order-1",children:e.jsx("div",{className:"image-wrapper",children:e.jsx($,{url:`${me}/${((m=s==null?void 0:s.image)==null?void 0:m.url)??""}`,alt:((i=s==null?void 0:s.image)==null?void 0:i.alt)??void 0,fit:"contain",noRatio:!0})})})]})})})},ge={heroImage:{articles:[0,0,0],rules:{limit:3},query:{useRoute:!0,pinned:1,category:{slug:"featured"}}},trending:{articles:[0,0,0,0,0],rules:{limit:5},query:{useRoute:!0,category:{exclude_slugs:["most-popular","ultimate-guide","events"]}}},mostPopular:{articles:[0,0,0,0,0,0,0,0],rules:{limit:8},query:{useRoute:!0,category:{slug:"most-popular"}}},events:{articles:[0,0,0,0],rules:{limit:4},query:{useRoute:!0,category:{slug:"events"}}},ultimateGuide:{articles:[0,0,0,0,0,0],rules:{limit:6},query:{useRoute:!0,category:{slug:"ultimate-guide"}}},overseas:{articles:[0,0,0,0,0,0,0,0],rules:{limit:8},query:{useRoute:!1}}},{Helmet:pe}=ce,Z="http://34.124.244.233/whatsnewasia",_=()=>e.jsx("div",{className:"spacer md:py-12 py-6"}),he=()=>{const{initialData:r}=ne(),[s,n]=c.useState((r==null?void 0:r.template)??{}),[m,i]=c.useState(!0),{actualRoute:t,clientChange:x}=A(),o=(t==null?void 0:t.country)||(t==null?void 0:t.city)||(t==null?void 0:t.region);c.useEffect(()=>{x&&(i(!1),(async()=>{var j;try{const T=`/v2${o?`${t!=null&&t.country?`/${t.country.slug}`:""}${t!=null&&t.city?`/${t.city.slug}`:""}${t!=null&&t.region?`/${t.region.slug}`:""}`:"/"}`,L=await J(T);(j=L==null?void 0:L.data)!=null&&j.content&&L.status_code==200?n(JSON.parse(L.data.content)):n(ge),i(!0)}catch(g){console.log(g),i(!0),n(null)}})())},[t]);const f=s.heroImage?s.heroImage.articles:[0,0,0],p=s.trending?s.trending.articles:[0,0,0,0,0],y=s.mostPopular?s.mostPopular.articles:[0,0,0,0,0,0,0,0],u=s.events?s.events.articles:[0,0,0,0],l=s.ultimateGuide?s.ultimateGuide.articles:[0,0,0,0,0,0],a=s.overseas?s.overseas.articles:[0,0,0,0,0,0,0,0],h=()=>t.region?t.region.name:t.city?t.city.name:t.country?t.country.name:"Home",v=()=>e.jsxs(pe,{children:[e.jsxs("title",{children:[h()," - Whatsnew Asia"]}),e.jsx("meta",{name:"description",content:"Whats's New Asia is the ultimate city guide for expats and travelers, featuring the best dining, events, schools, wellness, and travel in Asia"}),e.jsx("link",{rel:"canonical",href:Z}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:title",content:"Home - Whatsnew Asia"}),e.jsx("meta",{property:"og:description",content:"What's New Asia is the ultimate city guide for expats and travelers, featuring the best dining, events, schools, wellness, and travel in Asia"}),e.jsx("meta",{property:"og:url",content:Z}),e.jsx("meta",{property:"og:site_name",content:"Whatsnew Asia"})]});return m?e.jsxs(e.Fragment,{children:[v(),e.jsx(X,{preContent:f}),e.jsx(_,{}),e.jsx("div",{className:"container",children:e.jsx(oe,{})}),e.jsx(ee,{preContent:p}),o&&e.jsx(e.Fragment,{children:e.jsx(K,{preContent:y})}),e.jsx(R,{preContent:u}),e.jsx(Q,{preContent:l}),e.jsx(de,{preContent:a}),e.jsxs("div",{className:"outer bg-front-section-grey",children:[e.jsx(_,{}),e.jsx(xe,{}),e.jsx(ae,{}),e.jsx(_,{})]})]}):e.jsx(e.Fragment,{children:v()})},Ge=Object.freeze(Object.defineProperty({__proto__:null,Spacer:_,default:he},Symbol.toStringTag,{value:"Module"})),fe=({content:r,admin:s=!1})=>{const{getCityById:n,getCountryById:m}=E(),{getFeaturedImageUrl:i,getPermalink:t}=w(),x=(o,f)=>{var p,y;return o?e.jsx("div",{className:`md:col-span-6 lg:col-span-3 col-span-12 relative${f+1<r.length?" line-right-5":""}`,children:e.jsxs("div",{className:"inner grid grid-cols-12 gap-x-6 md:gap-x-0",children:[e.jsx("div",{className:"col-span-6 md:col-span-12",children:e.jsx("div",{className:"image-wrapper md:mb-10",children:e.jsx($,{url:i(o),ratio:"100%",link:s?void 0:t(o),alt:o==null?void 0:o.featured_image_alt})})}),e.jsxs("div",{className:"col-span-6 md:col-span-12",children:[e.jsx("div",{className:"location-wrapper mb-2",children:e.jsx("p",{className:"text-front-body text-front-red",children:n(o==null?void 0:o.id_city)?(p=n(o.id_city))==null?void 0:p.name:(y=m(o.id_country))==null?void 0:y.name})}),e.jsx("div",{className:"text-wrapper",children:e.jsx(S,{to:s?"":t(o),children:e.jsx("p",{className:"text-front-title font-serif",children:o.title})})})]})]})},`trendings-${f}`):e.jsx(e.Fragment,{})};return r?e.jsx(e.Fragment,{children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"grid grid-cols-12 md:gap-x-10 gap-y-10 md:overflow-x-hidden md:overflow-y-visible pb-2 py-8 md:py-0",children:r.map((o,f)=>x(o,f))})})}):e.jsxs("div",{className:"container",children:["asd",[{},{},{},{}].map(()=>e.jsx(C,{count:2}))]})},je=({title:r,content:s,admin:n=!1})=>{var o,f;const{getCategoryById:m}=E(),{getPermalink:i,getFeaturedImageUrl:t}=w(),x=p=>m(p);return s?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"md:container mx-auto !px-0 md:!px-7",children:[e.jsx("div",{className:"title-wrapper text-center mb-8",children:e.jsxs("h3",{className:"text-front-section-title font-serif font-semibold",children:["Trending in ",e.jsx("span",{className:"text-front-red",children:r})]})}),e.jsx("div",{className:"trending-main-wrapper md:mb-6",children:e.jsxs("div",{className:"grid grid-cols-12 items-center",children:[e.jsx("div",{className:"md:col-span-6 col-span-12",children:e.jsx("div",{className:"image-wrapper",children:e.jsx($,{url:t(s),ratio:"100%",link:n?void 0:i(s),alt:s==null?void 0:s.featured_image_alt})})}),e.jsx("div",{className:"md:col-span-6 col-span-12 h-full",children:e.jsxs("div",{className:"text-wrapper px-10 py-8 text-center h-full flex flex-col justify-center bg-front-light-grey",children:[e.jsx("div",{className:"category-wrapper mb-6",children:e.jsx(S,{to:n?"":`${(o=x(s.category_id))==null?void 0:o.slug_title}`,children:e.jsx("p",{className:"text-front-body text-front-red uppercase before-red-line inline",children:(f=x(s.category_id))==null?void 0:f.title})})}),e.jsx("div",{className:"article-title-wrapper mb-3",children:e.jsx(S,{to:n?"":i(s),children:e.jsx("p",{className:"text-front-black text-front-main-title font-serif",children:s.title})})}),e.jsx("div",{className:"article-description-wrapper mb-3",children:e.jsx(S,{to:n?"":i(s),children:e.jsx("p",{className:"text-front-black text-front-body-big",children:s.sub_title})})}),e.jsx("div",{className:"text-link-wrapper",children:e.jsx(W,{text:"Read More",uppercase:!0,link:n?"":i(s)})})]})})]})})]})}):e.jsx(e.Fragment,{})},ee=({preContent:r=[0,0,0,0,0],admin:s=!1})=>{const{actualRoute:n,clientChange:m}=A(),[i,t]=c.useState(""),[x,o]=c.useState(r),{generateContent:f}=w();return c.useEffect(()=>{m&&(async()=>{var y,u,l;const p=await f({content:r,query:{id_country:(y=n==null?void 0:n.country)==null?void 0:y.id,id_city:(u=n==null?void 0:n.city)==null?void 0:u.id,id_region:(l=n==null?void 0:n.region)==null?void 0:l.id,limit:5,isTrending:!0,exclude_category:["most-popular","ultimate-guide","events"]}});o(p||[])})()},[n,r,m]),c.useEffect(()=>{if(n!=null&&n.region){t(n.region.name);return}if(n!=null&&n.city){t(n.city.name);return}if(n!=null&&n.country){t(n.country.name);return}t("Asia")},[n]),e.jsx(e.Fragment,{children:!!x.filter(Boolean).length&&e.jsxs("section",{id:"trending",children:[e.jsx(_,{}),e.jsx(je,{title:i,content:x[0]}),e.jsx(fe,{content:x.slice(1)}),e.jsx("div",{className:"button-wrapper text-center py-6",children:e.jsx(I,{text:"View All",uppercase:!0,link:s?void 0:`${n!=null&&n.country?`/${n.country.slug}`:""}${n!=null&&n.city?`/${n.city.slug}`:""}${n!=null&&n.region?`/${n.region.slug}`:""}/trending`})})]})})},Be=({preContent:r=[0,0,0,0,0]})=>{const[s,n]=c.useState([]),{generateContent:m}=w();if(c.useEffect(()=>{(async()=>{const i=await m({content:r,admin:!0});n(i)})()},[r]),s.length)return e.jsx(ee,{preContent:s,admin:!0})};export{Ee as A,ge as H,Be as a,Te as b,Pe as c,Ie as d,Ge as e};
