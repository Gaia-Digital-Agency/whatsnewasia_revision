import{r as u,j as o,L as M}from"./chunk-JZWAC4HX-BaRxOj3G.js";import{u as S,g as n}from"./index-ILMR5Vqc.js";const z="http://localhost:8080",P=({url:d,ratio:a="78%",mobileRatio:p,link:s,overlay:r=!1,alt:f="",isLazy:v=!0,fetchPriority:E="low",fit:y="cover",noRatio:x=!1,width:i,height:c})=>{const t=u.useRef(null),{contextSafe:g}=S({scope:t}),h=d??`${z}/uploads/placeholder.png`,w=g(()=>{const e=t.current;e&&n.to(e.querySelector(".overlay"),{opacity:r?.6:.4})}),b=g(()=>{const e=t.current;e&&n.to(e.querySelector(".overlay"),{opacity:r?.4:0})});u.useEffect(()=>{const e=t.current;if(!e)return;const l=()=>{if(x){n.set(e,{paddingTop:"unset"});return}const L=window.innerWidth<768&&p||a;n.set(e,{paddingTop:L})};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[p,a,d]),u.useEffect(()=>{const e=t.current;e&&(e.style.aspectRatio="auto")},[]);const j=()=>o.jsx("img",{src:h,fetchPriority:E,width:i??void 0,height:c??void 0,style:{objectFit:y},loading:v?"lazy":"eager",className:"absolute inset-0 w-full h-full z-[1]",alt:f}),m=()=>o.jsxs("div",{ref:t,className:"image-container relative",onMouseEnter:s?w:void 0,onMouseLeave:s?b:void 0,style:{aspectRatio:i&&c?`${i} / ${c}`:void 0},children:[o.jsx("div",{className:"overlay absolute inset-0 w-full h-full bg-black z-[2]",style:{opacity:r?.4:0}}),j()]});return s?o.jsx(M,{"aria-label":f,to:s,children:m()}):m()};export{P as I};
