import{r as l,j as t}from"./chunk-JZWAC4HX-DGixXWWH.js";import{g as v,a as N,c as C}from"./template.service-B7okUSdY.js";import{C as T}from"./ComponentCard-GFTzXSMy.js";import{I as c}from"./InputField-C5WjQYB1.js";import{T as b}from"./TextArea-WxpYDhhg.js";import{L as n}from"./Label-x39NtM-Y.js";import{A}from"./FeaturedImage-DfK44KGh.js";import{B as S}from"./Button-DrUF433q.js";import{u as k}from"./NotificationContext-Bm_P1CXC.js";import"./index-BwXtifl2.js";import"./media.service-D5yt4sIT.js";import"./MediaForm-BfefYGqg.js";import"./index-DOnhHT4B.js";import"./index-DyEGC2D2.js";import"./PageBreadCrumb-BUBP8Mwu.js";import"./PageMeta-BNMh5ef8.js";import"./Alert-D2pDYxK7.js";import"./useTimedMessage-BeJb-9DW.js";import"./useModal-Dx3ZjLOW.js";import"./Badge-DKr_Wewz.js";import"./createLucideIcon-CFSuRwGv.js";const V=()=>{const[i,s]=l.useState({title:"",description:"",link:"",image:{url:"",alt:""}}),[m,p]=l.useState(!1),{setNotification:d}=k(),o="/about";l.useEffect(()=>{(async()=>{var a;const e=await v(o);(a=e==null?void 0:e.data)!=null&&a.content&&e.status_code==200&&(s(JSON.parse(e.data.content)),p(!0))})()},[]);const u=e=>{s(a=>({...a,title:e.target.value}))},g=e=>{console.log(e),s(a=>({...a,description:e}))},f=e=>{s(a=>({...a,link:e.target.value}))},h=e=>{e&&s(a=>({...a,image:{url:e.path,alt:i.image.alt}}))},x=()=>t.jsx(A,{onSave:h,url:i.image.url??""}),r=(e="Action Success",a="neutral")=>{d({type:a,message:e,isClosed:!1})},j=async()=>{try{if(m){if(await N(o,"About",JSON.stringify(i))){r();return}r("Failed","fail")}else{if(await C(o,"About",JSON.stringify(i))){r();return}r("Failed","fail")}}catch(e){console.log(e)}};return t.jsxs(t.Fragment,{children:[t.jsx(T,{children:t.jsxs("div",{className:"grid grid-cols-12 items-center gap-x-10",children:[t.jsxs("div",{className:"col-span-6",children:[t.jsxs("div",{className:"input-wrapper mb-8",children:[t.jsx(n,{children:"Title"}),t.jsx(c,{onChange:u,value:i.title,placeholder:"Title"})]}),t.jsxs("div",{className:"input-wrapper mb-8",children:[t.jsx(n,{children:"Description"}),t.jsx(b,{onChange:g,value:i.description,placeholder:"Description"})]}),t.jsxs("div",{className:"input-wrapper mb-8",children:[t.jsx(n,{children:"Link"}),t.jsx(c,{onChange:f,value:i.link,placeholder:"Link"})]})]}),t.jsx("div",{className:"col-span-6",children:t.jsxs("div",{className:"input-wrapper mb-8",children:[t.jsx(n,{children:"Image"}),x()]})})]})}),t.jsx(S,{onClick:j,children:"Save"})]})};export{V as default};
